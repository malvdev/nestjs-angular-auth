(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[714],{3714:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LoginModule:()=>k});var o=i(1116),r=i(1462),n=i(2188),a=i(8811),s=i(2771),p=i(1520),l=i(5416),m=i(8619),u=i(5525),c=i(3492),f=i(6319),d=i(8072),g=i(3970),h=i(3201);function _(e,t){1&e&&(m.TgZ(0,"app-form-field-error"),m._uU(1," Invalid email. "),m.qZA())}function b(e,t){1&e&&(m.TgZ(0,"app-form-field-error"),m._uU(1," Invalid password. "),m.qZA())}let Z=(()=>{class e{constructor(){this.loginForm=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.email]),password:new r.NI(null,[r.kI.required]),remember:new r.NI(!1)}),this.isLoading=!1,this.formSubmit=new m.vpe}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid&&this.formSubmit.emit(this.loginForm.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-login-form"]],inputs:{isLoading:"isLoading"},outputs:{formSubmit:"formSubmit"},decls:18,vars:5,consts:[[1,"app-form",3,"formGroup","ngSubmit"],[1,"app-form__controls"],["for","form-email"],["id","form-email","type","text","name","email","spellcheck","false","autocapitalize","off","autofocus","autofocus","autocomplete","username","formControlName","email"],[4,"ngIf"],["for","form-password"],["id","form-password","type","password","name","password","autocomplete","current-password","formControlName","password"],[1,"app-form__field-label"],["type","checkbox","name","remember","formControlName","remember",1,"app-form__field-checkbox"],[1,"app-form__submit",3,"disabled"]],template:function(e,t){1&e&&(m.TgZ(0,"form",0),m.NdJ("ngSubmit",function(){return t.onSubmit()}),m.TgZ(1,"div",1),m.TgZ(2,"app-form-field"),m.TgZ(3,"label",2),m._uU(4,"Email"),m.qZA(),m._UZ(5,"input",3),m.YNc(6,_,2,0,"app-form-field-error",4),m.qZA(),m.TgZ(7,"app-form-field"),m.TgZ(8,"label",5),m._uU(9,"Password"),m.qZA(),m._UZ(10,"input",6),m.YNc(11,b,2,0,"app-form-field-error",4),m.qZA(),m.TgZ(12,"app-form-field"),m.TgZ(13,"label",7),m._UZ(14,"input",8),m._uU(15," Remember me "),m.qZA(),m.qZA(),m.TgZ(16,"button",9),m._uU(17),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.Q6J("formGroup",t.loginForm),m.xp6(6),m.Q6J("ngIf",t.email&&t.email.touched&&t.email.invalid),m.xp6(5),m.Q6J("ngIf",t.password&&t.password.touched&&t.password.invalid),m.xp6(5),m.Q6J("disabled",t.loginForm.invalid||t.isLoading),m.xp6(1),m.hij(" ",t.isLoading?"Waiting...":"Log in"," "))},directives:[r._Y,r.JL,r.sg,g.h,r.Fj,r.JJ,r.u,o.O5,r.Wl,h.p],styles:[".app-form__field-checkbox[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin:0 8px 0 0;vertical-align:bottom}.app-form__field-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:16px;line-height:1}.app-form__submit[_ngcontent-%COMP%]{margin-top:5px}"],changeDetection:0}),e})();const w=function(){return["/auth/forgot"]},x=function(){return["/auth/register"]},y=[{path:"",pathMatch:"full",component:(()=>{class e{constructor(e,t,i,o,r){this._router=e,this._route=t,this._authService=i,this._toastr=o,this._destroy$=r,this.isLoading=!1}onSubmit(e){this.isLoading=!0,this._authService.login(e).pipe((0,p.x)(()=>{this.isLoading=!1}),(0,l.R)(this._destroy$)).subscribe(()=>{this._router.navigate([this._route.snapshot.queryParams.redirect||"/profile"],{replaceUrl:!0})},({error:e})=>{this._toastr.error(e.message,"Error")})}}return e.\u0275fac=function(t){return new(t||e)(m.Y36(s.F0),m.Y36(s.gz),m.Y36(u.e8),m.Y36(c._W),m.Y36(f.z))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-login"]],decls:8,vars:5,consts:[["title","Log in"],[3,"isLoading","formSubmit"],[1,"app-links"],["href","#",3,"routerLink"]],template:function(e,t){1&e&&(m.TgZ(0,"app-auth-template",0),m.TgZ(1,"app-login-form",1),m.NdJ("formSubmit",function(e){return t.onSubmit(e)}),m.qZA(),m._UZ(2,"hr"),m.TgZ(3,"div",2),m.TgZ(4,"a",3),m._uU(5,"Can't log in?"),m.qZA(),m.TgZ(6,"a",3),m._uU(7,"Sign up for an account"),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(1),m.Q6J("isLoading",t.isLoading),m.xp6(3),m.Q6J("routerLink",m.DdM(3,w)),m.xp6(2),m.Q6J("routerLink",m.DdM(4,x)))},directives:[d.Z,Z,s.yS],styles:[".app-links[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:12px;gap:12px}[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:var(--font-size-s)}"]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[s.Bz.forChild(y)],s.Bz]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[o.ez,r.UX,v,n.i,a.k]]}),e})()}}]);