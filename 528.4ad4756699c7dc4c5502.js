(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[528],{6528:(t,e,o)=>{"use strict";o.r(e),o.d(e,{ForgotModule:()=>y});var i=o(1116),r=o(1462),n=o(2188),s=o(8811),a=o(2771),u=o(1520),l=o(5416),c=o(8619),m=o(7565),f=o(3492),p=o(6319),g=o(8072),d=o(3970),h=o(3201);function _(t,e){1&t&&(c.TgZ(0,"app-form-field-error"),c._uU(1," Invalid email. "),c.qZA())}let Z=(()=>{class t{constructor(){this.forgotForm=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.email])}),this.isLoading=!1,this.formSubmit=new c.vpe}get email(){return this.forgotForm.get("email")}onSubmit(){this.forgotForm.valid&&this.formSubmit.emit(this.forgotForm.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-forgot-form"]],inputs:{isLoading:"isLoading"},outputs:{formSubmit:"formSubmit"},decls:9,vars:4,consts:[[1,"app-form",3,"formGroup","ngSubmit"],[1,"app-form__controls"],["for","email"],["id","email","type","text","name","email","spellcheck","false","autocapitalize","off","autofocus","autofocus","placeholder","Enter email","autocomplete","username","formControlName","email"],[4,"ngIf"],[3,"disabled"]],template:function(t,e){1&t&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return e.onSubmit()}),c.TgZ(1,"div",1),c.TgZ(2,"app-form-field"),c.TgZ(3,"label",2),c._uU(4,"We'll send a recovery link to"),c.qZA(),c._UZ(5,"input",3),c.YNc(6,_,2,0,"app-form-field-error",4),c.qZA(),c.TgZ(7,"button",5),c._uU(8),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.Q6J("formGroup",e.forgotForm),c.xp6(6),c.Q6J("ngIf",e.email&&e.email.touched&&e.email.invalid),c.xp6(1),c.Q6J("disabled",e.forgotForm.invalid||e.isLoading),c.xp6(1),c.hij(" ",e.isLoading?"Waiting...":"Send recovery link"," "))},directives:[r._Y,r.JL,r.sg,d.h,r.Fj,r.JJ,r.u,i.O5,h.p],styles:[".app-form__field-wrapper[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),t})();const b=function(){return["/auth/login"]},v=[{path:"",pathMatch:"full",component:(()=>{class t{constructor(t,e,o,i){this._router=t,this._authService=e,this._toastr=o,this._destroy$=i,this.isLoading=!1}onSubmit(t){this.isLoading=!0,this._authService.forgotPassword(t).pipe((0,u.x)(()=>{this.isLoading=!1}),(0,l.R)(this._destroy$)).subscribe(t=>{this._toastr.success(t.message,"Success"),this._router.navigate(["/login"],{replaceUrl:!0})},({error:t})=>{this._toastr.error(t.message,"Error")})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.F0),c.Y36(m.e8),c.Y36(f._W),c.Y36(p.z))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-forgot"]],decls:5,vars:3,consts:[["title","Can't log in?"],[3,"isLoading","formSubmit"],["href","#",3,"routerLink"]],template:function(t,e){1&t&&(c.TgZ(0,"app-auth-template",0),c.TgZ(1,"app-forgot-form",1),c.NdJ("formSubmit",function(t){return e.onSubmit(t)}),c.qZA(),c._UZ(2,"hr"),c.TgZ(3,"a",2),c._uU(4,"Return to log in"),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("isLoading",e.isLoading),c.xp6(2),c.Q6J("routerLink",c.DdM(2,b)))},directives:[g.Z,Z,a.yS],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:var(--font-size-s)}"]}),t})()}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.Bz.forChild(v)],a.Bz]}),t})(),y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,r.UX,S,n.i,s.k]]}),t})()}}]);